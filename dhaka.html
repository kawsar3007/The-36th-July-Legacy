<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DISTRICT LEGACY | Official Map</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --b-bg: #0B0E11; --b-card: #1E2329; --b-yellow: #FCD535; }
        body { background: var(--b-bg); color: #fff; font-family: 'Segoe UI', sans-serif; margin: 0; }

        /* পেমেন্ট ও অ্যাকশন বার */
        .top-nav {
            position: sticky; top: 0; background: var(--b-card); padding: 15px 5%;
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 2px solid var(--b-yellow); z-index: 1000;
        }
        
        .payment-box { font-size: 13px; color: #ddd; }
        .payment-box b { color: var(--b-yellow); font-size: 16px; }

        .btn-group { display: flex; gap: 10px; }
        
        .action-btn {
            padding: 10px 20px; border-radius: 5px; font-weight: bold; cursor: pointer; border: none;
            display: flex; align-items: center; gap: 8px; transition: 0.3s;
        }
        .buy-now { background: var(--b-yellow); color: #000; }
        .download-map { background: #333; color: #fff; border: 1px solid #555; }
        .download-map:hover { background: #444; border-color: var(--b-yellow); }

        /* ক্যানভাস লেআউট */
        .canvas-wrapper {
            width: calc(100% - 60px); /* ডানে বামে এক আঙ্গুল জায়গা */
            max-width: 1000px; margin: 20px auto;
            border: 2px solid #333; background: #fff;
        }
        canvas { display: block; width: 100%; height: auto; }

        /* পপআপ ও কনফেটি স্টাইল আগে যা ছিল তাই থাকবে... */
    </style>
</head>
<body>

<div class="top-nav">
    <div class="payment-box">
        <i class="fas fa-university"></i> BKASH / NAGAD / ROCKET<br>
        <b>01756206213</b>
    </div>
    
    <div class="btn-group">
        <button class="action-btn download-map" onclick="downloadCanvas()">
            <i class="fas fa-download"></i> DOWNLOAD MAP
        </button>
        <button class="action-btn buy-now" onclick="openModal()">
            BUY PLOT (৳36)
        </button>
    </div>
</div>

<div class="canvas-wrapper">
    <canvas id="legacyCanvas"></canvas>
</div>

<script>
    const cv = document.getElementById('legacyCanvas');
    const ctx = cv.getContext('2d');
    
    // ক্যানভাস সাইজ আগের মতোই ২৫,০০০ পিক্সেল লম্বা
    cv.width = 1000;
    cv.height = 25000; 

    // ডামি গ্রিড ড্রয়িং
    ctx.fillStyle = "#fff"; ctx.fillRect(0,0,cv.width, cv.height);

    // ডাউনলোড ফাংশন
    function downloadCanvas() {
        const link = document.createElement('a');
        link.download = 'District_Legacy_Map.png';
        link.href = cv.toDataURL();
        link.click();
    }

    // আগের প্রসেস অর্ডার ও কনফেটি ফাংশনগুলো এখানে থাকবে...
</script>

</body>
</html>
